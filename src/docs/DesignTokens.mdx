import { Meta, Canvas, Source } from '@storybook/addon-docs/blocks'
import { Box, Typography, Divider, Alert, Chip, Paper } from '@mui/material'
import ThemeExplorer from '../components/DesignTokens/ThemeExplorer'
import PaletteVisualizer from '../components/DesignTokens/PaletteVisualizer'
import TypographyShowcase from '../components/DesignTokens/TypographyShowcase'
import SpacingVisualizer from '../components/DesignTokens/SpacingVisualizer'
import BreakpointsDemo from '../components/DesignTokens/BreakpointsDemo'
import ShadowsElevation from '../components/DesignTokens/ShadowsElevation'
import ZIndexVisualizer from '../components/DesignTokens/ZIndexVisualizer'
import TransitionsDemo from '../components/DesignTokens/TransitionsDemo'

<Meta title="Design System/Design Tokens" />

# Design Tokens

<Alert severity="info" sx={{ mb: 4 }}>
  <Typography variant="body2">
    <strong>Interactive Documentation</strong> ‚Äî This page provides live, interactive visualizations
    of all MUI theme tokens. Switch between light/dark themes using the toolbar to see how tokens adapt.
  </Typography>
</Alert>

Design tokens are the visual design atoms of the design system ‚Äî specifically, they are named entities
that store visual design attributes. They enable **consistency**, **scalability**, **maintainability**,
and **theme switching** across all components.

---

## üé® Theme Explorer

<Paper elevation={0} sx={{ p: 3, bgcolor: 'background.default', border: '1px solid', borderColor: 'divider', borderRadius: 2 }}>
  <Typography variant="h6" gutterBottom>
    Interactive Theme Object Viewer
  </Typography>
  <Typography variant="body2" color="text.secondary" sx={{ mb: 2 }}>
    Explore the complete MUI theme object. Click nodes to expand/collapse. Color values display inline swatches.
    Use "Expand All" to see the full structure.
  </Typography>
  <ThemeExplorer defaultExpandedDepth={1} showSearch={true} showControls={true} maxHeight="500px" />
</Paper>

---

## üé® Color Palette

<Paper elevation={0} sx={{ p: 3, bgcolor: 'background.default', border: '1px solid', borderColor: 'divider', borderRadius: 2 }}>
  <Typography variant="h6" gutterBottom>
    Complete Color System
  </Typography>
  <Typography variant="body2" color="text.secondary" sx={{ mb: 2 }}>
    All palette tokens with WCAG contrast ratio badges. Click any color to copy its value.
    Semantic colors (primary, secondary, etc.) show main/light/dark/contrastText variants.
  </Typography>
  <PaletteVisualizer />
</Paper>

### Palette Structure

```typescript
theme.palette = {
  mode: 'light' | 'dark',
  primary: { main, light, dark, contrastText },
  secondary: { main, light, dark, contrastText },
  error: { main, light, dark, contrastText },
  warning: { main, light, dark, contrastText },
  info: { main, light, dark, contrastText },
  success: { main, light, dark, contrastText },
  grey: { 50, 100, 200, 300, 400, 500, 600, 700, 800, 900, A100, A200, A400, A700 },
  text: { primary, secondary, disabled },
  background: { default, paper },
  action: { active, hover, selected, disabled, disabledBackground, focus },
  divider: string,
  common: { black, white },
}
```

---

## üìù Typography

<Paper elevation={0} sx={{ p: 3, bgcolor: 'background.default', border: '1px solid', borderColor: 'divider', borderRadius: 2 }}>
  <Typography variant="h6" gutterBottom>
    Typography Scale & Font Weights
  </Typography>
  <Typography variant="body2" color="text.secondary" sx={{ mb: 2 }}>
    Live preview of all typography variants with CSS properties. Edit the sample text to see changes across all variants.
  </Typography>
  <TypographyShowcase showEditor={true} showFontWeights={true} showFontFamily={true} />
</Paper>

### Typography Structure

```typescript
theme.typography = {
  fontFamily: '"Roboto", "Helvetica", "Arial", sans-serif',
  fontSize: 14,
  fontWeightLight: 300,
  fontWeightRegular: 400,
  fontWeightMedium: 500,
  fontWeightBold: 700,
  h1: { fontSize, fontWeight, lineHeight, letterSpacing },
  h2: { ... },
  h3: { ... },
  h4: { ... },
  h5: { ... },
  h6: { ... },
  subtitle1: { ... },
  subtitle2: { ... },
  body1: { ... },
  body2: { ... },
  button: { ... },
  caption: { ... },
  overline: { ... },
}
```

---

## üìè Spacing

<Paper elevation={0} sx={{ p: 3, bgcolor: 'background.default', border: '1px solid', borderColor: 'divider', borderRadius: 2 }}>
  <Typography variant="h6" gutterBottom>
    8px Grid System
  </Typography>
  <Typography variant="body2" color="text.secondary" sx={{ mb: 2 }}>
    Visual scale showing spacing factors (0-12). Use the interactive demo to see spacing applied to elements.
  </Typography>
  <SpacingVisualizer minFactor={0} maxFactor={12} showScale={true} showInteractive={true} showExamples={true} />
</Paper>

### Spacing Usage

```typescript
// All spacing values are multiples of 8px
theme.spacing(1)  // 8px
theme.spacing(2)  // 16px
theme.spacing(3)  // 24px

// sx prop shortcuts
<Box sx={{ p: 2 }} />       // padding: 16px
<Box sx={{ m: 3 }} />       // margin: 24px
<Box sx={{ gap: 1 }} />     // gap: 8px
<Box sx={{ mt: 2, mb: 4 }} /> // marginTop: 16px, marginBottom: 32px
```

---

## üì± Breakpoints

<Paper elevation={0} sx={{ p: 3, bgcolor: 'background.default', border: '1px solid', borderColor: 'divider', borderRadius: 2 }}>
  <Typography variant="h6" gutterBottom>
    Responsive Breakpoints
  </Typography>
  <Typography variant="body2" color="text.secondary" sx={{ mb: 2 }}>
    Current viewport indicator with all breakpoint ranges. Resize your browser to see the active breakpoint change.
  </Typography>
  <BreakpointsDemo />
</Paper>

### Breakpoint Values

<Box sx={{ mt: 2 }}>
  <table style={{ width: '100%', borderCollapse: 'collapse' }}>
    <thead>
      <tr style={{ borderBottom: '2px solid #e0e0e0' }}>
        <th style={{ textAlign: 'left', padding: '12px 16px', fontWeight: 600 }}>Key</th>
        <th style={{ textAlign: 'left', padding: '12px 16px', fontWeight: 600 }}>Value</th>
        <th style={{ textAlign: 'left', padding: '12px 16px', fontWeight: 600 }}>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}>
        <td style={{ padding: '12px 16px' }}><code>xs</code></td>
        <td style={{ padding: '12px 16px' }}>0px</td>
        <td style={{ padding: '12px 16px' }}>Extra small (phones)</td>
      </tr>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}>
        <td style={{ padding: '12px 16px' }}><code>sm</code></td>
        <td style={{ padding: '12px 16px' }}>600px</td>
        <td style={{ padding: '12px 16px' }}>Small (tablets portrait)</td>
      </tr>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}>
        <td style={{ padding: '12px 16px' }}><code>md</code></td>
        <td style={{ padding: '12px 16px' }}>900px</td>
        <td style={{ padding: '12px 16px' }}>Medium (tablets landscape)</td>
      </tr>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}>
        <td style={{ padding: '12px 16px' }}><code>lg</code></td>
        <td style={{ padding: '12px 16px' }}>1200px</td>
        <td style={{ padding: '12px 16px' }}>Large (desktops)</td>
      </tr>
      <tr>
        <td style={{ padding: '12px 16px' }}><code>xl</code></td>
        <td style={{ padding: '12px 16px' }}>1536px</td>
        <td style={{ padding: '12px 16px' }}>Extra large (large desktops)</td>
      </tr>
    </tbody>
  </table>
</Box>

### Breakpoint Helpers

```typescript
// Media query helpers
theme.breakpoints.up('md')      // @media (min-width: 900px)
theme.breakpoints.down('sm')    // @media (max-width: 599.95px)
theme.breakpoints.only('md')    // @media (min-width: 900px) and (max-width: 1199.95px)
theme.breakpoints.between('sm', 'lg')  // @media (min-width: 600px) and (max-width: 1199.95px)

// Responsive sx values
<Box sx={{
  width: { xs: '100%', sm: '50%', md: '33%' },
  display: { xs: 'block', md: 'flex' },
}} />
```

---

## üåì Shadows (Elevation)

<Paper elevation={0} sx={{ p: 3, bgcolor: 'background.default', border: '1px solid', borderColor: 'divider', borderRadius: 2 }}>
  <Typography variant="h6" gutterBottom>
    25 Elevation Levels (0-24)
  </Typography>
  <Typography variant="body2" color="text.secondary" sx={{ mb: 2 }}>
    Hover over each elevation box to see the CSS box-shadow value. Use the interactive slider to preview any elevation level.
  </Typography>
  <ShadowsElevation showInteractive={true} showCssValues={true} columns={5} />
</Paper>

### Elevation Guidelines

<Box sx={{ mt: 2 }}>
  <table style={{ width: '100%', borderCollapse: 'collapse' }}>
    <thead>
      <tr style={{ borderBottom: '2px solid #e0e0e0' }}>
        <th style={{ textAlign: 'left', padding: '12px 16px', fontWeight: 600 }}>Level</th>
        <th style={{ textAlign: 'left', padding: '12px 16px', fontWeight: 600 }}>Usage</th>
      </tr>
    </thead>
    <tbody>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}><td style={{ padding: '12px 16px' }}>0</td><td style={{ padding: '12px 16px' }}>Flat surfaces (no shadow)</td></tr>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}><td style={{ padding: '12px 16px' }}>1</td><td style={{ padding: '12px 16px' }}>Cards at rest, Switch</td></tr>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}><td style={{ padding: '12px 16px' }}>2</td><td style={{ padding: '12px 16px' }}>Raised buttons, Search bar</td></tr>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}><td style={{ padding: '12px 16px' }}>4</td><td style={{ padding: '12px 16px' }}>App bar, FAB at rest</td></tr>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}><td style={{ padding: '12px 16px' }}>6</td><td style={{ padding: '12px 16px' }}>Snackbar, FAB (pressed)</td></tr>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}><td style={{ padding: '12px 16px' }}>8</td><td style={{ padding: '12px 16px' }}>Bottom navigation, Menu, Picker dialogs</td></tr>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}><td style={{ padding: '12px 16px' }}>16</td><td style={{ padding: '12px 16px' }}>Navigation drawer, Modal side sheet</td></tr>
      <tr><td style={{ padding: '12px 16px' }}>24</td><td style={{ padding: '12px 16px' }}>Dialog, Modal bottom sheet</td></tr>
    </tbody>
  </table>
</Box>

---

## üìö Z-Index

<Paper elevation={0} sx={{ p: 3, bgcolor: 'background.default', border: '1px solid', borderColor: 'divider', borderRadius: 2 }}>
  <Typography variant="h6" gutterBottom>
    Stacking Context Layers
  </Typography>
  <Typography variant="body2" color="text.secondary" sx={{ mb: 2 }}>
    Interactive visualization of MUI z-index layers. Click layers to highlight them. Switch between stacked, 3D, and chart views.
  </Typography>
  <ZIndexVisualizer viewMode="stacked" showComponents={true} interactive={true} />
</Paper>

### Z-Index Values

<Box sx={{ mt: 2 }}>
  <table style={{ width: '100%', borderCollapse: 'collapse' }}>
    <thead>
      <tr style={{ borderBottom: '2px solid #e0e0e0' }}>
        <th style={{ textAlign: 'left', padding: '12px 16px', fontWeight: 600 }}>Token</th>
        <th style={{ textAlign: 'left', padding: '12px 16px', fontWeight: 600 }}>Value</th>
        <th style={{ textAlign: 'left', padding: '12px 16px', fontWeight: 600 }}>Components</th>
      </tr>
    </thead>
    <tbody>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}><td style={{ padding: '12px 16px' }}><code>mobileStepper</code></td><td style={{ padding: '12px 16px' }}>1000</td><td style={{ padding: '12px 16px' }}>MobileStepper</td></tr>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}><td style={{ padding: '12px 16px' }}><code>fab</code></td><td style={{ padding: '12px 16px' }}>1050</td><td style={{ padding: '12px 16px' }}>Fab, SpeedDial</td></tr>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}><td style={{ padding: '12px 16px' }}><code>speedDial</code></td><td style={{ padding: '12px 16px' }}>1050</td><td style={{ padding: '12px 16px' }}>SpeedDial</td></tr>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}><td style={{ padding: '12px 16px' }}><code>appBar</code></td><td style={{ padding: '12px 16px' }}>1100</td><td style={{ padding: '12px 16px' }}>AppBar</td></tr>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}><td style={{ padding: '12px 16px' }}><code>drawer</code></td><td style={{ padding: '12px 16px' }}>1200</td><td style={{ padding: '12px 16px' }}>Drawer</td></tr>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}><td style={{ padding: '12px 16px' }}><code>modal</code></td><td style={{ padding: '12px 16px' }}>1300</td><td style={{ padding: '12px 16px' }}>Modal, Dialog, Backdrop</td></tr>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}><td style={{ padding: '12px 16px' }}><code>snackbar</code></td><td style={{ padding: '12px 16px' }}>1400</td><td style={{ padding: '12px 16px' }}>Snackbar</td></tr>
      <tr><td style={{ padding: '12px 16px' }}><code>tooltip</code></td><td style={{ padding: '12px 16px' }}>1500</td><td style={{ padding: '12px 16px' }}>Tooltip</td></tr>
    </tbody>
  </table>
</Box>

```typescript
// Accessing z-index values
theme.zIndex.modal     // 1300
theme.zIndex.tooltip   // 1500
theme.zIndex.drawer    // 1200
```

---

## ‚ö° Transitions

<Paper elevation={0} sx={{ p: 3, bgcolor: 'background.default', border: '1px solid', borderColor: 'divider', borderRadius: 2 }}>
  <Typography variant="h6" gutterBottom>
    Animation System
  </Typography>
  <Typography variant="body2" color="text.secondary" sx={{ mb: 2 }}>
    Duration tokens with visual timeline bars. Easing curves with bezier visualization.
    Use the playground to create custom transition combinations.
  </Typography>
  <TransitionsDemo />
</Paper>

### Duration Tokens

<Box sx={{ mt: 2 }}>
  <table style={{ width: '100%', borderCollapse: 'collapse' }}>
    <thead>
      <tr style={{ borderBottom: '2px solid #e0e0e0' }}>
        <th style={{ textAlign: 'left', padding: '12px 16px', fontWeight: 600 }}>Token</th>
        <th style={{ textAlign: 'left', padding: '12px 16px', fontWeight: 600 }}>Value</th>
        <th style={{ textAlign: 'left', padding: '12px 16px', fontWeight: 600 }}>Usage</th>
      </tr>
    </thead>
    <tbody>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}><td style={{ padding: '12px 16px' }}><code>shortest</code></td><td style={{ padding: '12px 16px' }}>150ms</td><td style={{ padding: '12px 16px' }}>Micro-interactions</td></tr>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}><td style={{ padding: '12px 16px' }}><code>shorter</code></td><td style={{ padding: '12px 16px' }}>200ms</td><td style={{ padding: '12px 16px' }}>Quick feedback</td></tr>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}><td style={{ padding: '12px 16px' }}><code>short</code></td><td style={{ padding: '12px 16px' }}>250ms</td><td style={{ padding: '12px 16px' }}>Normal</td></tr>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}><td style={{ padding: '12px 16px' }}><code>standard</code></td><td style={{ padding: '12px 16px' }}>300ms</td><td style={{ padding: '12px 16px' }}>Default</td></tr>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}><td style={{ padding: '12px 16px' }}><code>complex</code></td><td style={{ padding: '12px 16px' }}>375ms</td><td style={{ padding: '12px 16px' }}>Complex animations</td></tr>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}><td style={{ padding: '12px 16px' }}><code>enteringScreen</code></td><td style={{ padding: '12px 16px' }}>225ms</td><td style={{ padding: '12px 16px' }}>Screen enter</td></tr>
      <tr><td style={{ padding: '12px 16px' }}><code>leavingScreen</code></td><td style={{ padding: '12px 16px' }}>195ms</td><td style={{ padding: '12px 16px' }}>Screen exit</td></tr>
    </tbody>
  </table>
</Box>

### Easing Curves

<Box sx={{ mt: 2 }}>
  <table style={{ width: '100%', borderCollapse: 'collapse' }}>
    <thead>
      <tr style={{ borderBottom: '2px solid #e0e0e0' }}>
        <th style={{ textAlign: 'left', padding: '12px 16px', fontWeight: 600 }}>Token</th>
        <th style={{ textAlign: 'left', padding: '12px 16px', fontWeight: 600 }}>Value</th>
        <th style={{ textAlign: 'left', padding: '12px 16px', fontWeight: 600 }}>Usage</th>
      </tr>
    </thead>
    <tbody>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}><td style={{ padding: '12px 16px' }}><code>easeInOut</code></td><td style={{ padding: '12px 16px' }}><code>cubic-bezier(0.4, 0, 0.2, 1)</code></td><td style={{ padding: '12px 16px' }}>Standard</td></tr>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}><td style={{ padding: '12px 16px' }}><code>easeOut</code></td><td style={{ padding: '12px 16px' }}><code>cubic-bezier(0.0, 0, 0.2, 1)</code></td><td style={{ padding: '12px 16px' }}>Enter</td></tr>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}><td style={{ padding: '12px 16px' }}><code>easeIn</code></td><td style={{ padding: '12px 16px' }}><code>cubic-bezier(0.4, 0, 1, 1)</code></td><td style={{ padding: '12px 16px' }}>Exit</td></tr>
      <tr><td style={{ padding: '12px 16px' }}><code>sharp</code></td><td style={{ padding: '12px 16px' }}><code>cubic-bezier(0.4, 0, 0.6, 1)</code></td><td style={{ padding: '12px 16px' }}>Sharp</td></tr>
    </tbody>
  </table>
</Box>

### Creating Transitions

```typescript
// Using theme.transitions.create()
const styles = {
  transition: theme.transitions.create(['background-color', 'transform'], {
    duration: theme.transitions.duration.standard,
    easing: theme.transitions.easing.easeInOut,
  }),
}

// Result: "background-color 300ms cubic-bezier(0.4, 0, 0.2, 1), transform 300ms cubic-bezier(0.4, 0, 0.2, 1)"
```

---

## üîß Shape

```typescript
theme.shape = {
  borderRadius: 4,  // Default border radius in pixels
}
```

<Box sx={{ mt: 2 }}>
  <table style={{ width: '100%', borderCollapse: 'collapse' }}>
    <thead>
      <tr style={{ borderBottom: '2px solid', borderColor: 'divider' }}>
        <th style={{ textAlign: 'left', padding: '12px 16px', fontWeight: 600 }}>Element</th>
        <th style={{ textAlign: 'left', padding: '12px 16px', fontWeight: 600 }}>Recommended Border Radius</th>
      </tr>
    </thead>
    <tbody>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}>
        <td style={{ padding: '12px 16px' }}>Buttons</td>
        <td style={{ padding: '12px 16px' }}>4px (default)</td>
      </tr>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}>
        <td style={{ padding: '12px 16px' }}>Cards</td>
        <td style={{ padding: '12px 16px' }}>4px or 8px</td>
      </tr>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}>
        <td style={{ padding: '12px 16px' }}>Dialogs</td>
        <td style={{ padding: '12px 16px' }}>4px</td>
      </tr>
      <tr style={{ borderBottom: '1px solid #e0e0e0' }}>
        <td style={{ padding: '12px 16px' }}>Chips</td>
        <td style={{ padding: '12px 16px' }}>Full (pill shape)</td>
      </tr>
      <tr>
        <td style={{ padding: '12px 16px' }}>Avatars</td>
        <td style={{ padding: '12px 16px' }}>Full (circle)</td>
      </tr>
    </tbody>
  </table>
</Box>

---

## üìñ Using Design Tokens

### Importing Theme

```typescript
import { useTheme } from '@mui/material/styles'

function MyComponent() {
  const theme = useTheme()

  return (
    <Box
      sx={{
        color: theme.palette.primary.main,
        p: theme.spacing(2),
        borderRadius: theme.shape.borderRadius,
        boxShadow: theme.shadows[4],
        transition: theme.transitions.create('background-color'),
      }}
    >
      Content
    </Box>
  )
}
```

### sx Prop Shortcuts

```typescript
// Direct access via sx prop
<Button
  sx={{
    bgcolor: 'primary.main',
    color: 'primary.contrastText',
    '&:hover': {
      bgcolor: 'primary.dark',
    },
  }}
>
  Click me
</Button>
```

---

<Alert severity="success" sx={{ mt: 4 }}>
  <Typography variant="body2">
    <strong>üí° Pro Tip:</strong> Use the theme toolbar (top-right) to switch between light and dark modes.
    All visualizations on this page will update automatically to show the current theme's token values.
  </Typography>
</Alert>
