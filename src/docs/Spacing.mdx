import { Meta } from '@storybook/addon-docs/blocks'

<Meta title="Design System/Spacing" />

# Spacing System

MUI uses an 8px base unit spacing system for consistent visual rhythm.

---

## Base Unit

The default spacing unit is **8px**. All spacing values are multiples of this base.

```tsx
theme.spacing(1) // 8px
theme.spacing(2) // 16px
theme.spacing(3) // 24px
theme.spacing(4) // 32px
```

---

## Spacing Scale

| Factor | Value | CSS Variable | Common Use |
|--------|-------|--------------|------------|
| 0 | 0px | `--spacing-0` | No space |
| 0.5 | 4px | `--spacing-0-5` | Tight gaps |
| 1 | 8px | `--spacing-1` | Icon gaps |
| 1.5 | 12px | `--spacing-1-5` | Compact padding |
| 2 | 16px | `--spacing-2` | Default padding |
| 2.5 | 20px | `--spacing-2-5` | Medium gaps |
| 3 | 24px | `--spacing-3` | Card padding |
| 4 | 32px | `--spacing-4` | Section gaps |
| 5 | 40px | `--spacing-5` | Large gaps |
| 6 | 48px | `--spacing-6` | Section spacing |
| 8 | 64px | `--spacing-8` | Major breaks |

---

## Using Spacing

### In sx Prop (Shorthand)

```tsx
// Margin and Padding shorthands
<Box sx={{ m: 2 }} />  // margin: 16px (all sides)
<Box sx={{ p: 3 }} />  // padding: 24px (all sides)

// Directional
<Box sx={{ mt: 1 }} /> // margin-top: 8px
<Box sx={{ mb: 2 }} /> // margin-bottom: 16px
<Box sx={{ ml: 3 }} /> // margin-left: 24px
<Box sx={{ mr: 4 }} /> // margin-right: 32px
<Box sx={{ pt: 2 }} /> // padding-top: 16px
<Box sx={{ pb: 2 }} /> // padding-bottom: 16px
<Box sx={{ pl: 2 }} /> // padding-left: 16px
<Box sx={{ pr: 2 }} /> // padding-right: 16px

// Axis
<Box sx={{ mx: 2 }} /> // margin-left & right: 16px
<Box sx={{ my: 3 }} /> // margin-top & bottom: 24px
<Box sx={{ px: 2 }} /> // padding-left & right: 16px
<Box sx={{ py: 3 }} /> // padding-top & bottom: 24px
```

### Spacing Prop Reference

| Prop | CSS Property |
|------|-------------|
| `m` | margin |
| `mt` | margin-top |
| `mb` | margin-bottom |
| `ml` | margin-left |
| `mr` | margin-right |
| `mx` | margin-left, margin-right |
| `my` | margin-top, margin-bottom |
| `p` | padding |
| `pt` | padding-top |
| `pb` | padding-bottom |
| `pl` | padding-left |
| `pr` | padding-right |
| `px` | padding-left, padding-right |
| `py` | padding-top, padding-bottom |

### Gap Property

```tsx
// For flexbox and grid layouts
<Stack sx={{ gap: 2 }}>     // gap: 16px
<Grid container spacing={3}> // gap: 24px
```

---

## Theme Spacing Function

### Basic Usage

```tsx
import { useTheme } from '@mui/material/styles'

function Component() {
  const theme = useTheme()

  return (
    <div style={{ padding: theme.spacing(2) }}>
      {/* padding: 16px */}
    </div>
  )
}
```

### Multiple Arguments

```tsx
theme.spacing(2)       // '16px'
theme.spacing(1, 2)    // '8px 16px' (vertical, horizontal)
theme.spacing(1, 2, 3) // '8px 16px 24px' (top, horizontal, bottom)
theme.spacing(1, 2, 3, 4) // '8px 16px 24px 32px' (top, right, bottom, left)
```

### Calculation

```tsx
// Arithmetic with spacing
<Box sx={{ mt: theme.spacing(2) + 'px' }} />

// Calc in sx
<Box sx={{ width: `calc(100% - ${theme.spacing(4)})` }} />
```

---

## Custom Spacing

### Change Base Unit

```tsx
const theme = createTheme({
  spacing: 4, // Now 1 unit = 4px
})

theme.spacing(2) // 8px (4 * 2)
theme.spacing(4) // 16px (4 * 4)
```

### Custom Spacing Function

```tsx
const theme = createTheme({
  spacing: (factor) => `${0.25 * factor}rem`,
})

theme.spacing(4) // '1rem'
theme.spacing(8) // '2rem'
```

### Array-Based Spacing

```tsx
const theme = createTheme({
  spacing: [0, 4, 8, 16, 32, 64],
})

theme.spacing(2) // '8px' (index 2)
theme.spacing(4) // '32px' (index 4)
```

---

## Stack Component

Automatic spacing between children:

```tsx
import { Stack } from '@mui/material'

<Stack spacing={2}>
  <Item>Item 1</Item>
  <Item>Item 2</Item>
  <Item>Item 3</Item>
</Stack>

// With direction
<Stack direction="row" spacing={3}>
  <Item>Left</Item>
  <Item>Right</Item>
</Stack>

// Responsive spacing
<Stack
  spacing={{ xs: 1, sm: 2, md: 3 }}
  direction={{ xs: 'column', sm: 'row' }}
>
  <Item>A</Item>
  <Item>B</Item>
</Stack>
```

---

## Grid Spacing

```tsx
import { Grid } from '@mui/material'

<Grid container spacing={2}>
  <Grid item xs={6}>
    <Item>Item 1</Item>
  </Grid>
  <Grid item xs={6}>
    <Item>Item 2</Item>
  </Grid>
</Grid>

// Different row and column spacing
<Grid container rowSpacing={2} columnSpacing={3}>
  ...
</Grid>
```

---

## Negative Margins

```tsx
// For overlapping elements
<Box sx={{ mt: -2 }} /> // margin-top: -16px

// Common pattern: full-bleed inside padded container
<Box sx={{ px: 3 }}>
  <Box sx={{ mx: -3 }}>
    {/* Full width element */}
  </Box>
</Box>
```

---

## Auto Margins

```tsx
// Center horizontally
<Box sx={{ mx: 'auto', width: 200 }} />

// Push to right (in flex container)
<Box sx={{ ml: 'auto' }} />

// Push to bottom (in flex column)
<Box sx={{ mt: 'auto' }} />
```

---

## Best Practices

| Practice | Example |
|----------|---------|
| **Use factors** | `spacing={2}` not `spacing="16px"` |
| **Consistent scale** | Stick to 1, 2, 3, 4, 6, 8 |
| **Stack for lists** | Use `Stack` with `spacing` |
| **Grid for layouts** | Use `Grid` with `spacing` |
| **Responsive** | Adjust spacing by breakpoint |

---

## Common Patterns

```tsx
// Card padding
<Card sx={{ p: 3 }} />

// List item padding
<ListItem sx={{ py: 1, px: 2 }} />

// Button group gap
<Stack direction="row" spacing={1} />

// Section margins
<Box component="section" sx={{ my: 6 }} />

// Form field spacing
<Stack spacing={3}>
  <TextField />
  <TextField />
  <Button />
</Stack>
```
