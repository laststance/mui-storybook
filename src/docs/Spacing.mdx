import { Meta } from '@storybook/addon-docs/blocks'

<Meta title="Design System/Spacing" />

# Spacing System

MUI uses an 8px base unit spacing system for consistent visual rhythm.

---

## Base Unit

The default spacing unit is **8px**. All spacing values are multiples of this base.

```tsx
theme.spacing(1) // 8px
theme.spacing(2) // 16px
theme.spacing(3) // 24px
theme.spacing(4) // 32px
```

---

## Spacing Scale

<table>
  <thead>
    <tr>
      <th>Factor</th>
      <th>Value</th>
      <th>CSS Variable</th>
      <th>Common Use</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>0</td><td>0px</td><td><code>--spacing-0</code></td><td>No space</td></tr>
    <tr><td>0.5</td><td>4px</td><td><code>--spacing-0-5</code></td><td>Tight gaps</td></tr>
    <tr><td>1</td><td>8px</td><td><code>--spacing-1</code></td><td>Icon gaps</td></tr>
    <tr><td>1.5</td><td>12px</td><td><code>--spacing-1-5</code></td><td>Compact padding</td></tr>
    <tr><td>2</td><td>16px</td><td><code>--spacing-2</code></td><td>Default padding</td></tr>
    <tr><td>2.5</td><td>20px</td><td><code>--spacing-2-5</code></td><td>Medium gaps</td></tr>
    <tr><td>3</td><td>24px</td><td><code>--spacing-3</code></td><td>Card padding</td></tr>
    <tr><td>4</td><td>32px</td><td><code>--spacing-4</code></td><td>Section gaps</td></tr>
    <tr><td>5</td><td>40px</td><td><code>--spacing-5</code></td><td>Large gaps</td></tr>
    <tr><td>6</td><td>48px</td><td><code>--spacing-6</code></td><td>Section spacing</td></tr>
    <tr><td>8</td><td>64px</td><td><code>--spacing-8</code></td><td>Major breaks</td></tr>
  </tbody>
</table>

---

## Using Spacing

### In sx Prop (Shorthand)

```tsx
// Margin and Padding shorthands
<Box sx={{ m: 2 }} />  // margin: 16px (all sides)
<Box sx={{ p: 3 }} />  // padding: 24px (all sides)

// Directional
<Box sx={{ mt: 1 }} /> // margin-top: 8px
<Box sx={{ mb: 2 }} /> // margin-bottom: 16px
<Box sx={{ ml: 3 }} /> // margin-left: 24px
<Box sx={{ mr: 4 }} /> // margin-right: 32px
<Box sx={{ pt: 2 }} /> // padding-top: 16px
<Box sx={{ pb: 2 }} /> // padding-bottom: 16px
<Box sx={{ pl: 2 }} /> // padding-left: 16px
<Box sx={{ pr: 2 }} /> // padding-right: 16px

// Axis
<Box sx={{ mx: 2 }} /> // margin-left & right: 16px
<Box sx={{ my: 3 }} /> // margin-top & bottom: 24px
<Box sx={{ px: 2 }} /> // padding-left & right: 16px
<Box sx={{ py: 3 }} /> // padding-top & bottom: 24px
```

### Spacing Prop Reference

<table>
  <thead>
    <tr>
      <th>Prop</th>
      <th>CSS Property</th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>m</code></td><td>margin</td></tr>
    <tr><td><code>mt</code></td><td>margin-top</td></tr>
    <tr><td><code>mb</code></td><td>margin-bottom</td></tr>
    <tr><td><code>ml</code></td><td>margin-left</td></tr>
    <tr><td><code>mr</code></td><td>margin-right</td></tr>
    <tr><td><code>mx</code></td><td>margin-left, margin-right</td></tr>
    <tr><td><code>my</code></td><td>margin-top, margin-bottom</td></tr>
    <tr><td><code>p</code></td><td>padding</td></tr>
    <tr><td><code>pt</code></td><td>padding-top</td></tr>
    <tr><td><code>pb</code></td><td>padding-bottom</td></tr>
    <tr><td><code>pl</code></td><td>padding-left</td></tr>
    <tr><td><code>pr</code></td><td>padding-right</td></tr>
    <tr><td><code>px</code></td><td>padding-left, padding-right</td></tr>
    <tr><td><code>py</code></td><td>padding-top, padding-bottom</td></tr>
  </tbody>
</table>

### Gap Property

```tsx
// For flexbox and grid layouts
<Stack sx={{ gap: 2 }}>     // gap: 16px
<Grid container spacing={3}> // gap: 24px
```

---

## Theme Spacing Function

### Basic Usage

```tsx
import { useTheme } from '@mui/material/styles'

function Component() {
  const theme = useTheme()

  return (
    <div style={{ padding: theme.spacing(2) }}>
      {/* padding: 16px */}
    </div>
  )
}
```

### Multiple Arguments

```tsx
theme.spacing(2)       // '16px'
theme.spacing(1, 2)    // '8px 16px' (vertical, horizontal)
theme.spacing(1, 2, 3) // '8px 16px 24px' (top, horizontal, bottom)
theme.spacing(1, 2, 3, 4) // '8px 16px 24px 32px' (top, right, bottom, left)
```

### Calculation

```tsx
// Arithmetic with spacing
<Box sx={{ mt: theme.spacing(2) + 'px' }} />

// Calc in sx
<Box sx={{ width: `calc(100% - ${theme.spacing(4)})` }} />
```

---

## Custom Spacing

### Change Base Unit

```tsx
const theme = createTheme({
  spacing: 4, // Now 1 unit = 4px
})

theme.spacing(2) // 8px (4 * 2)
theme.spacing(4) // 16px (4 * 4)
```

### Custom Spacing Function

```tsx
const theme = createTheme({
  spacing: (factor) => `${0.25 * factor}rem`,
})

theme.spacing(4) // '1rem'
theme.spacing(8) // '2rem'
```

### Array-Based Spacing

```tsx
const theme = createTheme({
  spacing: [0, 4, 8, 16, 32, 64],
})

theme.spacing(2) // '8px' (index 2)
theme.spacing(4) // '32px' (index 4)
```

---

## Stack Component

Automatic spacing between children:

```tsx
import { Stack } from '@mui/material'

<Stack spacing={2}>
  <Item>Item 1</Item>
  <Item>Item 2</Item>
  <Item>Item 3</Item>
</Stack>

// With direction
<Stack direction="row" spacing={3}>
  <Item>Left</Item>
  <Item>Right</Item>
</Stack>

// Responsive spacing
<Stack
  spacing={{ xs: 1, sm: 2, md: 3 }}
  direction={{ xs: 'column', sm: 'row' }}
>
  <Item>A</Item>
  <Item>B</Item>
</Stack>
```

---

## Grid Spacing

```tsx
import { Grid } from '@mui/material'

<Grid container spacing={2}>
  <Grid item xs={6}>
    <Item>Item 1</Item>
  </Grid>
  <Grid item xs={6}>
    <Item>Item 2</Item>
  </Grid>
</Grid>

// Different row and column spacing
<Grid container rowSpacing={2} columnSpacing={3}>
  ...
</Grid>
```

---

## Negative Margins

```tsx
// For overlapping elements
<Box sx={{ mt: -2 }} /> // margin-top: -16px

// Common pattern: full-bleed inside padded container
<Box sx={{ px: 3 }}>
  <Box sx={{ mx: -3 }}>
    {/* Full width element */}
  </Box>
</Box>
```

---

## Auto Margins

```tsx
// Center horizontally
<Box sx={{ mx: 'auto', width: 200 }} />

// Push to right (in flex container)
<Box sx={{ ml: 'auto' }} />

// Push to bottom (in flex column)
<Box sx={{ mt: 'auto' }} />
```

---

## Best Practices

<table>
  <thead>
    <tr>
      <th>Practice</th>
      <th>Example</th>
    </tr>
  </thead>
  <tbody>
    <tr><td><strong>Use factors</strong></td><td><code>spacing=&#123;2&#125;</code> not <code>spacing="16px"</code></td></tr>
    <tr><td><strong>Consistent scale</strong></td><td>Stick to 1, 2, 3, 4, 6, 8</td></tr>
    <tr><td><strong>Stack for lists</strong></td><td>Use <code>Stack</code> with <code>spacing</code></td></tr>
    <tr><td><strong>Grid for layouts</strong></td><td>Use <code>Grid</code> with <code>spacing</code></td></tr>
    <tr><td><strong>Responsive</strong></td><td>Adjust spacing by breakpoint</td></tr>
  </tbody>
</table>

---

## Common Patterns

```tsx
// Card padding
<Card sx={{ p: 3 }} />

// List item padding
<ListItem sx={{ py: 1, px: 2 }} />

// Button group gap
<Stack direction="row" spacing={1} />

// Section margins
<Box component="section" sx={{ my: 6 }} />

// Form field spacing
<Stack spacing={3}>
  <TextField />
  <TextField />
  <Button />
</Stack>
```
