import { Meta, Primary, Controls, Canvas, Stories } from '@storybook/addon-docs/blocks'
import * as LoadingButtonStories from './LoadingButton.stories'

<Meta of={LoadingButtonStories} />

# LoadingButton

A button component with loading state that visually indicates the progress of asynchronous operations.

## Overview

LoadingButton is a button component that displays a loading indicator during asynchronous operations (such as API requests and data submissions). It clearly communicates to users that processing is in progress and prevents double submissions.

Key features:
- **Loading state**: Easily toggled with the loading property
- **Loading position**: 3 placement options: start, center, end
- **Custom indicator**: Customizable display with loadingIndicator
- **All button variants**: Supports text, contained, and outlined
- **Automatic disable**: Automatically enters disabled state during loading

Loading positions:
- **start**: Displays indicator at icon position
- **center**: Displays indicator in the center of the button (text hidden)
- **end**: Displays indicator on the right side

## Primary Demo

<Primary />

## Interactive Controls

Use the controls below to modify properties:

<Controls />


## All Variants

<Stories />

## Usage Example

```tsx
import LoadingButton from '@mui/lab/LoadingButton'
import SaveIcon from '@mui/icons-material/Save'
import { useState } from 'react'

// Basic usage
<LoadingButton loading variant="contained">
  Submitting
</LoadingButton>

// Specify loading position
<LoadingButton
  loading
  loadingPosition="start"
  startIcon={<SaveIcon />}
  variant="outlined"
>
  Save
</LoadingButton>

// Custom loading indicator
<LoadingButton
  loading
  loadingIndicator="Loading..."
  variant="contained"
>
  Fetch Data
</LoadingButton>

// Real-world usage example
function SubmitButton() {
  const [loading, setLoading] = useState(false)

  const handleClick = async () => {
    setLoading(true)
    try {
      await fetch('/api/submit', { method: 'POST' })
    } finally {
      setLoading(false)
    }
  }

  return (
    <LoadingButton
      loading={loading}
      variant="contained"
      onClick={handleClick}
    >
      Submit
    </LoadingButton>
  )
}

// Loading button with icon
<LoadingButton
  loading={loading}
  loadingPosition="end"
  endIcon={<SendIcon />}
  variant="contained"
  onClick={handleSubmit}
>
  Submit
</LoadingButton>
```

## Accessibility

- `aria-busy="true"` is automatically set during loading
- Button is automatically disabled to prevent double submission
- Loading indicator is set with appropriate ARIA attributes
- Keyboard navigation functions the same as normal buttons
- When using custom indicators, ensure visually clear display
- For long loading times, consider displaying progress status or estimated time
